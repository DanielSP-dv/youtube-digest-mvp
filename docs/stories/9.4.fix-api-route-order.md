# Story 9.4: Correct Express Route Order for All APIs

## Status: In Progress

## Story
**As a** developer,
**I want** to ensure all API routes are defined before the static file serving and SPA catch-all routes,
**so that** the client receives JSON data instead of the application's HTML shell.

## Problem
API calls to endpoints like `/api/dashboard` are being incorrectly intercepted by the `app.get('*', ...)` route, causing the server to return HTML instead of JSON and breaking the frontend data fetching.

## Acceptance Criteria:
1. The block of all API routes (`/auth/*`, `/api/*`) in `server.js` must be moved to a position before the `express.static` and `app.get('*', ...)` routes.
2. When the client calls any `/api/` endpoint, it must receive a JSON response.
3. The dashboard must now load its data correctly.

## Tasks / Subtasks

- [ ] **Task 1: Reorder Middleware in `server.js`** (AC: 1)
    - [ ] Read `server.js`.
    - [ ] Move the entire block of API routes to be before the static file serving middleware.

## Dev Notes
*   This is the final fix for the deployment. Correct middleware order is fundamental to Express.js applications.
