# Story 7.2: Fix Client-Side Authentication Race Condition

## Status: In Progress

## Story
**As a** user,
**I want** the application to wait for the authentication check to complete before rendering a page,
**so that** I am not incorrectly redirected to the landing page after a successful login.

## Problem
After a successful login, the user is redirected to `/dashboard`, but the React application immediately redirects them back to the landing page. This is a race condition where the app renders the routes before the `useAuth` hook has finished fetching the user's session status.

## Acceptance Criteria:
1. The main `App` component must use the `loading` state from the `useAuth` hook.
2. While `loading` is `true`, a loading indicator must be displayed instead of the application routes.
3. Once `loading` is `false`, the routes should render, correctly showing the dashboard to the authenticated user.
4. The user is no longer redirected to the landing page after a successful login.

## Tasks / Subtasks

- [ ] **Task 1: Modify `App.js` to Handle Loading State** (AC: 1, 2, 3)
    - [ ] In `client/src/App.js`, read the `loading` state from the `useAuth()` hook.
    - [ ] Wrap the main router/view in a conditional check for the `loading` state.

- [ ] **Task 2: Verify the Fix** (AC: 4)
    - [ ] User to deploy the change and confirm the login flow now works correctly.

## Dev Notes
*   This is the final fix to solve the post-login redirect loop.
*   The `useAuth` hook already provides the necessary `loading` state; it just needs to be consumed by the main `App` component.
