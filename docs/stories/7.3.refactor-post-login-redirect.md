# Story 7.3: Refactor Post-Login Redirect to be Client-Driven

## Status: In Progress

## Story
**As a** developer,
**I want** the frontend application to handle routing after a successful login,
**so that** we can eliminate the race condition causing users to be sent back to the landing page.

## Problem
Even with a loading state, a race condition exists where the user is redirected from the backend to a protected route (`/dashboard`) before the client-side app has confirmed the user's session. This results in the app incorrectly redirecting the user back to the landing page.

## Acceptance Criteria:
1. The backend (`server.js`) must redirect to the client's root URL (`/`) after a successful Google login.
2. The frontend (`App.jsx`) must contain logic that, after the initial auth check is complete, programmatically navigates an authenticated user from the landing page to the dashboard.
3. The post-login flow must reliably land the user on the `/dashboard` page without being sent back to the landing page.

## Tasks / Subtasks

- [ ] **Task 1: Update Backend Redirect** (AC: 1)
    - [ ] In `server.js`, change the `/auth/google/callback` success redirect to point to the client's root URL, not `/dashboard`.

- [ ] **Task 2: Implement Client-Side Redirect** (AC: 2)
    - [ ] In `client/src/App.jsx`, refactor the component to allow the use of the `useNavigate` hook.
    - [ ] Add a `useEffect` hook that triggers after the initial auth check.
    - [ ] If the user is authenticated and on the landing page, navigate them to `/dashboard`.

## Dev Notes
*   This change creates a more robust Single-Page Application (SPA) authentication flow where the client is the single source of truth for routing.
